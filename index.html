<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Multi-Agent Orchestrator UI</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 800px; margin: 20px auto; }
    textarea { width: 100%; height: 100px; }
    button { margin: 5px 5px 5px 0; padding: 6px 12px; }
    #response { white-space: pre-wrap; background: #111; color: #0f0; padding: 10px; margin-top: 10px; }
    label { font-weight: bold; }
  </style>
</head>
<body>
  <h1>Multi-Agent Orchestration Demo</h1>

  <label for="query">Query / Message:</label><br/>
  <textarea id="query" placeholder="Type your question or workflow topic here"></textarea><br/>

  <label for="toolName">Tool name (optional):</label>
  <input id="toolName" type="text" placeholder="CALCULATOR or WEATHER_API" />

  <div>
    <button onclick="runAgent()">Run Agent</button>
    <button onclick="runWorkflow()">Run Workflow</button>
    <button onclick="testTool()">Test Tool</button>
  </div>

  <h2>Response</h2>
  <div id="response">No response yet.</div>

<script>
// Backend is same origin (127.0.0.1:8000), UI is at /ui
const API_BASE = ""; // same origin

async function runAgent() {
  const message = document.getElementById("query").value;
  const resDiv = document.getElementById("response");

  const resp = await fetch(API_BASE + "/agent/run", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ message })
  });
  const data = await resp.json();
  resDiv.textContent = JSON.stringify(data, null, 2);
}

async function runWorkflow() {
  const query = document.getElementById("query").value;
  const resDiv = document.getElementById("response");

  const resp = await fetch(API_BASE + "/workflow/run", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ query })
  });
  const data = await resp.json();
  resDiv.textContent = JSON.stringify(data, null, 2);
}

async function testTool() {
  const toolName = document.getElementById("toolName").value || "CALCULATOR";
  const input = document.getElementById("query").value;
  const resDiv = document.getElementById("response");

  const resp = await fetch(API_BASE + "/tools/test", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ tool_name: toolName, input })
  });
  const data = await resp.json();
  resDiv.textContent = JSON.stringify(data, null, 2);
}
</script>
</body>
</html>


